import{d as z,r as y,m as _,o as E,v as S,x as V,b as w,c as P,e as o,w as r,u as l,j,y as k,z as I,i as B,s as L,t as T,h as D,A as F}from"./vender-f4f466f4.js";import{g as N}from"./about-60f6aacb.js";import{_ as O}from"./index-a9270684.js";const U=async d=>N({},"/projects",d),A={class:"wrap-content"},G=z({__name:"index",setup(d){let a=y([]),e=_({userId:0,id:0,title:"",introduce:"",currentPage:1,dataCount:0,pageSize:5});_({});const m=()=>{console.log(a.value);let t=[];e.title||e.introduce?(e.title&&(t=a.value.filter(n=>n.title.indexOf(e.title)!==-1)),e.introduce&&(t=a.value.filter(n=>n.introduce.indexOf(e.introduce)!==-1))):(console.log(a.value),t=a.value),a.value=t,e.currentPage=1,e.dataCount=a.value.length},c=()=>{U().then(t=>{console.log("resres",t),a.value=t,e.dataCount=t.length})};E(()=>{c()});let g=S(()=>a.value.slice((e.currentPage-1)*e.pageSize,e.currentPage*e.pageSize));const f=t=>{e.currentPage=t},v=t=>{e.pageSize=t};return V([()=>e.title,()=>e.introduce],()=>{!e.title&&!e.introduce&&c()}),(t,n)=>{const p=L,i=T,h=D,b=j,u=F,C=k,x=I;return w(),P("div",A,[o(b,{inline:!0,label:"名称",model:l(e),class:"search-form"},{default:r(()=>[o(i,null,{default:r(()=>[o(p,{modelValue:l(e).title,"onUpdate:modelValue":n[0]||(n[0]=s=>l(e).title=s),placeholder:"请输入名称"},null,8,["modelValue"])]),_:1}),o(i,null,{default:r(()=>[o(p,{modelValue:l(e).introduce,"onUpdate:modelValue":n[1]||(n[1]=s=>l(e).introduce=s),placeholder:"请输入详情"},null,8,["modelValue"])]),_:1}),o(i,null,{default:r(()=>[o(h,{type:"primary",onClick:n[2]||(n[2]=s=>m())},{default:r(()=>n[3]||(n[3]=[B("查询")])),_:1,__:[3]})]),_:1})]),_:1},8,["model"]),o(C,{data:l(g),border:"",style:{width:"100%"}},{default:r(()=>[o(u,{prop:"id",label:"序号",width:"180"}),o(u,{prop:"title",label:"名称",width:"180"}),o(u,{prop:"introduce",label:"详情"})]),_:1},8,["data"]),o(x,{class:"pagination",background:"",layout:"sizes, prev, pager, next",total:l(e).dataCount,"page-size":l(e).pageSize,"page-sizes":[5,10,15,20],onCurrentChange:f,onSizeChange:v},null,8,["total","page-size"])])}}});const H=O(G,[["__scopeId","data-v-1711eb71"]]);export{H as default};

import{a as x,E as n,d as m,r as c,o as v,b as p,c as g,e as u,u as l,w as j,f as C,g as E,h as R,i as T,j as w}from"./vender-7f8e7721.js";const f=t=>{let e="";switch(t){case 400:e="请求错误(400)";break;case 403:e="拒绝访问(403)";break;case 401:e="未授权(401)";break;case 500:e="服务器错误(500)";break;case 503:e="服务不可用(503)";break;default:e=`连接出错(${t})!`}return e},d=x.create({baseURL:"/mock/api",timeout:15e3});d.interceptors.request.use(t=>t,t=>Promise.reject(t));d.interceptors.response.use(t=>(t.status===200||n({message:f(t.status),type:"error"}),t),t=>{const{response:e}=t;if(e)return n({message:f(e.status),type:"error"}),Promise.reject(e.data);n({message:"网络连接异常,请稍后再试!",type:"error"})});const h=t=>new Promise((e,s)=>{d.request(t).then(o=>{const r=o.data;r.code!=0?(n({message:r.message,type:"error"}),s(r.message)):(n({message:r.message,type:"success",duration:800}),e(r.data))})});function P(t,e,s){return h({...t,url:e,method:"GET",params:s})}function B(t,e,s){return h({...t,url:e,method:"POST",data:s})}const L=async()=>P({},"/getAuthList"),M=m({__name:"index",setup(t){const e=c([]),s=c(null),o=c([]),r=C(),{query:i}=r;i.auth&&(e.value=i.auth);const y=()=>{console.log(s.value);const a=s.value.getCheckedNodes();console.log(a),console.log(s.value.getCheckedKeys())};return v(()=>{L().then(a=>{o.value=a}).catch(a=>{})}),(a,_)=>{const k=E,b=R;return p(),g("div",null,[u(k,{ref_key:"treeRef",ref:s,data:l(o),"check-strictly":!1,"show-checkbox":"","default-checked-keys":l(e),"node-key":"roleId",props:{label:"name",children:"roleList"}},null,8,["data","default-checked-keys"]),u(b,{type:"primary",onClick:y},{default:j(()=>_[0]||(_[0]=[T("修改权限")])),_:1})])}}}),A=Object.freeze(Object.defineProperty({__proto__:null,default:M},Symbol.toStringTag,{value:"Module"})),N=()=>c(),O={class:"wrap-about"},S=m({__name:"index",setup(t){const e=N();return(s,o)=>(p(),g("div",O,[u(l(w),{ref_key:"formRef",ref:e},null,512)]))}});const I=Object.freeze(Object.defineProperty({__proto__:null,default:S},Symbol.toStringTag,{value:"Module"}));export{I as a,P as g,A as i,B as p};

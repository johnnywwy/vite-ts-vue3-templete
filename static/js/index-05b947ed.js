import{l as r}from"./vender-61ea62b0.js";import{p as t,r as n}from"./index-5cc076.js";import{g as a,p as o}from"./about-9d5332f9.js";const c=async s=>o({},"/login",s),i=async s=>o({},"/getUserInfo",s),f=()=>a({},"/getUserList"),u=r("userInfo",{state:()=>({username:"大伟",accessToken:"",roles:["common"]}),getters:{},actions:{storeUserLogin(s){return c(s).then(e=>(this.username=e.username,this.roles=e.roles,this.accessToken=e.accessToken,e))},logout(){sessionStorage.removeItem("userInfo"),this.accessToken="",n.push("/login")},stroeRefreshUserInfo(){this.username=="大伟"&&this.accessToken!=""&&i({accessToken:this.accessToken}).then(s=>{this.username=s.username,this.roles=s.roles,this.accessToken=s.accessToken}).catch(()=>{this.accessToken=""})}},persist:{key:"userInfo",storage:sessionStorage,paths:["accessToken"]}});function k(){return u(t)}export{u as a,f as g,k as u};

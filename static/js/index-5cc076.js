import{B as y,b as v,C as R,D as E,F as L,l as S,G as O,H as b,N as g,I as w}from"./vender-61ea62b0.js";(function(){const r=document.createElement("link").relList;if(r&&r.supports&&r.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))i(o);new MutationObserver(o=>{for(const t of o)if(t.type==="childList")for(const s of t.addedNodes)s.tagName==="LINK"&&s.rel==="modulepreload"&&i(s)}).observe(document,{childList:!0,subtree:!0});function n(o){const t={};return o.integrity&&(t.integrity=o.integrity),o.referrerPolicy&&(t.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?t.credentials="include":o.crossOrigin==="anonymous"?t.credentials="omit":t.credentials="same-origin",t}function i(o){if(o.ep)return;o.ep=!0;const t=n(o);fetch(o.href,t)}})();const A=(e,r)=>{const n=e.__vccOpts||e;for(const[i,o]of r)n[i]=o;return n},I={};function T(e,r){const n=y("router-view");return v(),R(n)}const D=A(I,[["render",T]]),k="modulepreload",V=function(e,r){return new URL(e,r).href},h={},a=function(r,n,i){if(!n||n.length===0)return r();const o=document.getElementsByTagName("link");return Promise.all(n.map(t=>{if(t=V(t,i),t in h)return;h[t]=!0;const s=t.endsWith(".css"),P=s?'[rel="stylesheet"]':"";if(!!i)for(let l=o.length-1;l>=0;l--){const m=o[l];if(m.href===t&&(!s||m.rel==="stylesheet"))return}else if(document.querySelector(`link[href="${t}"]${P}`))return;const c=document.createElement("link");if(c.rel=s?"stylesheet":k,s||(c.as="script",c.crossOrigin=""),c.href=t,document.head.appendChild(c),s)return new Promise((l,m)=>{c.addEventListener("load",l),c.addEventListener("error",()=>m(new Error(`Unable to preload CSS for ${t}`)))})})).then(()=>r()).catch(t=>{const s=new Event("vite:preloadError",{cancelable:!0});if(s.payload=t,window.dispatchEvent(s),!s.defaultPrevented)throw t})},j={path:"/",name:"Layout",component:()=>a(()=>import("./index-b8d929c9.js"),["./index-b8d929c9.js","./vender-61ea62b0.js","../css/vender-b089c28b.css","./index-05b947ed.js","./about-9d5332f9.js","../css/about-8b6cdde4.css","../css/index-c782dc65.css"],import.meta.url),redirect:"/",children:[{path:"/",name:"HomePage",component:()=>a(()=>import("./index-e86843da.js"),["./index-e86843da.js","./vender-61ea62b0.js","../css/vender-b089c28b.css"],import.meta.url),meta:{isShow:!0,title:"首页",parentRouter:"Layout"},children:[]},{path:"/project",name:"ProjectPage",component:()=>a(()=>import("./index-a13c3005.js"),["./index-a13c3005.js","./vender-61ea62b0.js","../css/vender-b089c28b.css","./about-9d5332f9.js","../css/about-8b6cdde4.css","../css/index-328a0abc.css"],import.meta.url),meta:{isShow:!0,title:"项目模块",parentRouter:"Layout"},children:[]},{path:"/user",name:"UserPage",component:()=>a(()=>import("./index-142553e6.js"),["./index-142553e6.js","./vender-61ea62b0.js","../css/vender-b089c28b.css","./index-05b947ed.js","./about-9d5332f9.js","../css/about-8b6cdde4.css","./index-faeb3164.js","../css/index-acab0857.css"],import.meta.url),meta:{title:"用户模块",isShow:!0,parentRouter:"Layout"},children:[]},{path:"/role",name:"RolePage",component:()=>a(()=>import("./index-faeb3164.js").then(e=>e.i),["./index-faeb3164.js","./vender-61ea62b0.js","../css/vender-b089c28b.css","./about-9d5332f9.js","../css/about-8b6cdde4.css"],import.meta.url),meta:{title:"角色模块",isShow:!0,parentRouter:"Layout"},children:[]},{path:"/auth",name:"AuthPage",component:()=>a(()=>import("./about-9d5332f9.js").then(e=>e.i),["./about-9d5332f9.js","./vender-61ea62b0.js","../css/vender-b089c28b.css","../css/about-8b6cdde4.css"],import.meta.url),meta:{title:"权限模块",isShow:!0,parentRouter:"Layout"},children:[]},{path:"/p",name:"ParentPage",component:()=>a(()=>import("./index-e86843da.js"),["./index-e86843da.js","./vender-61ea62b0.js","../css/vender-b089c28b.css"],import.meta.url),meta:{isShow:!0,title:"父菜单",parentRouter:"Layout"},children:[{path:"/p/child1",name:"ChildPage1",meta:{title:"子菜单 1",isShow:!0,parentRouter:"ParentPage"}},{path:"/p/child2",name:"ChildPage2",meta:{title:"子菜单 2",isShow:!0,parentRouter:"ParentPage"}},{path:"/p/child3",name:"ChildPage3",meta:{title:"子菜单 3",isShow:!0,parentRouter:"ParentPage"}}]}]},C=Object.freeze(Object.defineProperty({__proto__:null,default:j},Symbol.toStringTag,{value:"Module"})),B={path:"/login",name:"Login",component:()=>a(()=>import("./index-097010f3.js"),["./index-097010f3.js","./vender-61ea62b0.js","../css/vender-b089c28b.css","./index-05b947ed.js","./about-9d5332f9.js","../css/about-8b6cdde4.css","../css/index-4af2a598.css"],import.meta.url),meta:{},children:[]},H=Object.freeze(Object.defineProperty({__proto__:null,default:B},Symbol.toStringTag,{value:"Module"})),p=E();p.use(L);const N=S("settingStore",{state:()=>({title:[]}),actions:{setTitle(e){this.title=e}}});function x(){return N(p)}const U=(e,r)=>{const n=[];for(;;){n.push(e);const i=r.find(t=>t.name===e),o=r.find(t=>{var s;return t.name===((s=i==null?void 0:i.meta)==null?void 0:s.parentRouter)});if(o){e=o.name;continue}else break}return n.reverse()},$=x(),q={path:"/about",name:"About",component:()=>a(()=>import("./about-9d5332f9.js").then(e=>e.a),["./about-9d5332f9.js","./vender-61ea62b0.js","../css/vender-b089c28b.css","../css/about-8b6cdde4.css"],import.meta.url),meta:{},children:[]},f=Object.assign({"./modules/home.ts":C,"./modules/login.ts":H}),_=[];Object.keys(f).forEach(e=>{const r=f[e].default;_.push(r)});_.push(q);const u=O({history:b(),routes:_}),z=e=>{console.log("name",e),console.log("getRouters",u.getRoutes());const r=U(e,u.getRoutes());$.setTitle(r)},F=["/login","/about"];u.beforeEach(async(e,r,n)=>{g.start(),!!sessionStorage.getItem("userInfo")||F.includes(e.path)?n():n("/login"),z(e.name)});u.afterEach(e=>{g.done()});const d=w(D);d.use(u);d.use(p);d.mount("#app");export{A as _,p,u as r,x as u};
